(function(e){function C(){}function k(e,t){return g.call(e).indexOf("[object "+t)==0}function L(e){var t;return e.path=O(e.path||e.location||""),t=O(e.main)||"main",t.charAt(0)!="."&&(t="./"+t),e.main=M(t,e.name+"/"),e.mainPath=M(t,e.path+"/"),e.config=e.config,e}function A(e,t){return O(e)+"/"+t}function O(e){return e&&e.charAt(e.length-1)=="/"?e.substr(0,e.length-1):e}function M(e,t){var n,r,i=1;return e=e.replace(x,function(e,t,n,s){return n&&i++,r=!0,s||""}),r?(n=t.split("/"),n.splice(n.length-i,i),n.concat(e||[]).join("/")):e}function _(e){var t=e.indexOf("!");return{resourceId:e.substr(t+1),pluginId:t>=0&&e.substr(0,t)}}function D(){}function P(e,t){var n,r;D.prototype=e||m,n=new D,D.prototype=m;for(r in t)n[r]=t[r];return n}function H(){function i(e,t,r){n.push([e,t,r])}function s(e,t){var r,i,s=0;while(r=n[s++])i=r[e],i&&i(t)}var e,t=this,n=[];e=function(t,o){i=t?function(e){e&&e(o)}:function(e,t){t&&t(o)},e=C,s(t?0:1,o),s=C,n=r},this.then=function(e,n,r){return i(e,n,r),t},this.resolve=function(n){t.resolved=n,e(!0,n)},this.reject=function(n){t.rejected=n,e(!1,n)},this.progress=function(e){s(2,e)}}function B(e){return e instanceof H}function j(e,t,n,r){return B(e)?e.then(t,n,r):t(e)}function F(e,t,n){var i;return function(){return--e>=0&&t&&(i=t.apply(r,arguments)),e==0&&n&&n(i),i}}function I(){function n(e,t,i){var s,u=o.createContext(f,r,[].concat(e));this.then=s=function(e,t){return j(u,function(t){e&&e.apply(r,t)},function(e){if(!t)throw e;t(e)}),this},this.next=function(e,t){return new n(e,t,u)},t&&s(t),j(i,function(){o.getDeps(u)})}var e,t=[].slice.call(arguments);return k(t[0],"Object")&&(e=t.shift(),f=o.config(e,f),o.checkPreloads(e)),new n(t[0],t[1])}function q(e){var t,n,s=e.id;s==r&&(i!==r?i={ex:"Multiple anonymous defines in url"}:(s=o.getCurrentDefName())||(i=e));if(s!=r){t=b[s],s in b||(n=o.resolvePathInfo(s,f).config,t=b[s]=o.createResourceDef(n,s));if(!B(t))throw Error("duplicate define: "+s);t.useNet=!1,o.defineResource(t,e)}}var t,n,r,i,s,o,u="0.6.7",a="curl",f=e[a],l=e.document,c=l&&(l.head||l.getElementsByTagName("head")[0]),h={},p={},d={},v={},m={},g=m.toString,y={loaded:1,interactive:d,complete:1},b={},w=!1,E=/\?/,S=/^\/|^[^:]+:\/\//,x=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,T=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,N=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g;o={createContext:function(e,t,n,i){function u(e){return M(e,s.ctxId)}function a(t){return o.resolvePathInfo(u(t),e).url}function f(t,n){var a,f,l,c=n&&function(){n.apply(r,arguments[0])};if(k(t,"String")){a=u(t),f=b[a],l=B(f)&&f.exports;if(a in b){if(c)throw Error("require(id, callback) not allowed");return l||f}throw Error("Module not resolved: "+a)}j(o.getDeps(o.createContext(e,s.ctxId,t,i)),c)}var s=new H;return s.ctxId=s.id=t||"",s.isPreload=i,s.depNames=n,s.require=f,f.toUrl=a,s.toAbsId=u,s},createResourceDef:function(e,t,n,i){var s,u,a=o.createContext(e,t,r,n);return a.ctxId=i==r?t:i,s=a.resolve,u=F(1,function(e){a.deps=e;try{return o.executeDefFunc(a)}catch(t){a.reject(t)}}),a.resolve=function(e){j(n||w,function(){s(b[a.id]=u(e))})},a.exportsReady=function(e){j(n||w,function(){a.exports&&(u(e),a.progress(p))})},a},createPluginDef:function(e,t,n,i){var s=o.createContext(e,t,r,n);return s.ctxId=i,s},getCjsRequire:function(e){return e.require},getCjsExports:function(e){return e.exports||(e.exports={})},getCjsModule:function(e){var t=e.module;return t||(t=e.module={id:e.id,uri:o.getDefUrl(e),exports:o.getCjsExports(e)},t.exports=t.exports),t},getDefUrl:function(e){return e.url||(e.url=o.checkToAddJsExt(e.require.toUrl(e.id)))},config:function(r){var i,s,f,l,define,c=r,h="define";r||(r={}),i=r.apiName||a,s=r.apiContext||e;if(s!=e||i!=a?s[i]:t&&c)throw Error(i+" already exists");s[i]=I,t&&c&&(e[a]=t),f=r.defineName||h,l=r.defineContext||e;if(l!=e||f!=h?l[f]:n&&c)throw Error(f+" already exists");return l[f]=define=function(){var e=o.fixArgs(arguments);q(e)},n&&c&&(e[h]=n),define.amd={plugins:!0,jQuery:!0,curl:u},c&&(o.config=o.moreConfig),o.moreConfig(r)},moreConfig:function(e,t){function u(e,t){var i,s,u,a,f,l,c;for(c in e)u=e[c],u.name=u.id||u.name||c,f=n,a=_(O(u.name||c)),i=a.resourceId,s=a.pluginId,s&&(f=r[s],f||(f=r[s]=P(n),f.pathMap=P(n.pathMap),f.pathList=[]),delete e[c]),t?l=L(u):l={path:O(u)},l.specificity=i.split("/").length,i?(f.pathMap[i]=l,f.pathList.push(i)):f.baseUrl=o.resolveUrl(u,n)}function a(e){var t=e.pathMap;e.pathRx=RegExp("^("+e.pathList.sort(function(e,n){return t[e].specificity<t[n].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete e.pathList}var n,r,i,s;t||(t={}),n=P(t,e),n.baseUrl=n.baseUrl||"",n.pluginPath=n.pluginPath||"curl/plugin",n.pathMap=P(t.pathMap),r=n.plugins=P(t.plugins,e.plugins),n.pathList=[],u(e.paths,!1),u(e.packages,!0);for(i in r)s=r[i].pathList,s&&(r[i].pathList=s.concat(n.pathList),a(r[i]));return a(n),n},checkPreloads:function(e){var t=e&&e.preloads;t&&t.length>0&&j(w,function(){w=o.getDeps(o.createContext(f,r,t,!0))})},resolvePathInfo:function(e,t,n){var r,i,s,u,a,l=t.pathMap;return n&&t.pluginPath&&e.indexOf("/")<0&&!(e in l)&&(i=e=A(t.pluginPath,e)),S.test(e)?s=e:s=e.replace(t.pathRx,function(t){return r=l[t]||{},a=!0,u=r.config,r.main&&t==e?(i=r.main,r.mainPath):r.path||""}),{ctxId:i||e,config:u||f,url:o.resolveUrl(s,t)}},resolveUrl:function(e,t){var n=t.baseUrl;return n&&!S.test(e)?A(n,e):e},checkToAddJsExt:function(e){return e+(E.test(e)?"":".js")},loadScript:function(t,n,r){function s(r){r=r||e.event;if(r.type=="load"||y[i.readyState])delete v[t.id],i.onload=i.onreadystatechange=i.onerror="",n()}function o(){r(Error("Syntax or http error: "+t.url))}var i=l.createElement("script");return i.onload=i.onreadystatechange=s,i.onerror=o,i.type=t.mimetype||"text/javascript",i.charset="utf-8",i.async=!t.order,i.src=t.url,v[t.id]=i,c.insertBefore(i,c.firstChild),i},extractCjsDeps:function(e){var t,n=[],i=typeof e=="string"?e:e.toSource?e.toSource():e+"";return i.replace(T,"").replace(N,function(e,i,s){return s?t=t==s?r:t:t||n.push(i),e}),n},fixArgs:function(e){var t,n,r,i=e.length,s=e[i-1],u=k(s,"Function")?s.length:-1;return i==2?k(e[0],"Array")?n=e[0]:t=e[0]:i==3&&(t=e[0],n=e[1]),!n&&u>0&&(r=!0,n=["require","exports","module"].slice(0,u).concat(o.extractCjsDeps(s))),{id:t,deps:n||[],res:u<0?function(){return s}:s,cjs:r}},executeDefFunc:function(e){var t=e.cjs?e.exports:r,n=e.res.apply(t,e.deps);return n===r&&e.exports&&(n=e.module?e.exports=e.module.exports:e.exports),n},defineResource:function(e,t){e.res=t.res,e.cjs=t.cjs,e.depNames=t.deps,o.getDeps(e)},getDeps:function(e){function c(e,t,n){a[t]=e,n&&i(e,t)}function d(t,n){var r=F(1,function(e){s(e),u(e,n)}),s=F(1,function(e){i(e,n)}),a=o.fetchDep(t,e),f=B(a)&&a.exports;f&&s(f),j(a,r,e.reject,e.exports&&function(e){a.exports&&(e==h?s(a.exports):e==p&&r(a.exports))})}function v(){e.resolve(a)}function m(){e.exportsReady&&e.exportsReady(a)}var t,n,i,u,a=[],f=e.depNames,l=f.length;f.length==0&&v(),i=F(l,c,m),u=F(l,c,v);for(t=0;t<l;t++)n=f[t],n in s?(u(s[n](e),t,!0),e.exports&&e.progress(h)):n?d(n,t):u(r,t,!0);return e},fetchResDef:function(e){return o.getDefUrl(e),o.loadScript(e,function(){var t=i;i=r,e.useNet!==!1&&(!t||t.ex?e.reject(Error(t&&t.ex||"define() missing or duplicated: "+e.url)):o.defineResource(e,t))},e.reject),e},fetchDep:function(e,t){var n,r,i,s,u=t.toAbsId,a=t.isPreload,l=_(e),c=l.resourceId,h=u(l.pluginId||c),p=o.resolvePathInfo(h,f,!!l.pluginId);return l.pluginId?n=h:(n=p.config.moduleLoader,n&&(c=h,h=n,p=o.resolvePathInfo(n,f))),r=b[h],h in b||(r=b[h]=o.createResourceDef(p.config,h,a,p.ctxId),r.url=o.checkToAddJsExt(p.url),o.fetchResDef(r)),h==n&&(i=new H,s=f.plugins[n]||f,j(r,function(e){var t,r,f,l=e.dynamic;"normalize"in e?c=e.normalize(c,u,s)||"":c=u(c),r=n+"!"+c,t=b[r],r in b||(t=o.createPluginDef(s,r,a,c),l||(b[r]=t),f=function(e){t.resolve(e),l||(b[r]=e)},f.resolve=f,f.reject=t.reject,e.load(c,t.require,f,s)),i!=t&&j(t,i.resolve,i.reject,i.progress)},i.reject)),i||r},getCurrentDefName:function(){var t,n;if(!k(e.opera,"Opera"))for(n in v)if(y[v[n].readyState]==d){t=n;break}return t}},s={require:o.getCjsRequire,exports:o.getCjsExports,module:o.getCjsModule},I.version=u,typeof define=="function"&&(n=define),typeof f=="function"&&(t=f,f=!1),f=o.config(f),o.checkPreloads(f),b[a]=I,b["curl/_privileged"]={core:o,cache:b,cfg:f,_define:q,_curl:I,Promise:H}})(this.window||global);